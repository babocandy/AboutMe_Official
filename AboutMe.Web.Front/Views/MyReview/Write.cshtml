@model AboutMe.Web.Front.Models.MyReviewInsertViewModel
@using AboutMe.Common.Helper
@{
    ViewBag.Title = "Write";
    Layout = "~/Views/Shared/_AboutMeLayoutPopup.cshtml";
}
@section Head{
    @{ Html.RenderPartial("~/Views/AboutMePartial/_Head.cshtml");}

    <style>
        .field-validation-error, .validation-summary-errors {
            color: red;
            font-size: 13px;
            line-height: 15px;
            text-indent: -11px;
        }
    </style>

    @if (!Model.ResultNum.IsEmpty() && Model.ResultNum != "0")
    {
        <script>
            alert("@(Model.ResultMessage)");
        </script>
    }
    else if (Model.ResultNum == "0")
    {
        <script>
            window.opener.location.reload(true);
            self.close();
        </script>
    }
    
    <script>
        function findUploadFile() {
            document.getElementById("UploadImage").click();
        }

        function changeUploadFile() {
            document.frm.ImageFileName.value = document.frm.UploadImage.value;
        }
    </script>

}

@section Body{
	<!-- 상품리뷰등록_뷰티 팝업 -->
<div class="popupwrap">
    <div class="pop">
        <!--pop_top-->
        <div class="pop_top">
            <div class="title_area">
                <p class="title">상품 리뷰 등록</p>
            </div>
            <a href="#none" class="pop_close" onclick="PopupClose()"><img src="/aboutCom/images/review/reviewpop_close.gif" alt="닫기" /></a>
        </div>
        <!--//pop_top-->
        <!--pop_bottom-->
        <div class="write_review pro">
                @using (Html.BeginForm("Write", "MyReview", FormMethod.Post, new { id = "frm", name = "frm", enctype = "multipart/form-data" }))
                {
                    @Html.AntiForgeryToken()
                    <div>@Html.ValidationSummary(true, "", new { @style = "display:inline;" })</div>
                 <input type="hidden" name="Mid" value="@(Model.Mid)" />
                <input type="hidden" name="OrderDetailIdx" value="@(Model.OrderDetailIdx)" />
                <input type="hidden" name="Pcode" value="@(Model.Pcode)" />

                <fieldset>
                    <legend>상품 리뷰 등록 폼</legend>
                    <!-- [Desc]마지막 행에는 class="last"를 붙여줍니다. -->
                    <table summary="상품찾기, 피부타입, 제목">
                        <caption>상품 리뷰 등록 입력 표</caption>
                        <colgroup>
@if (ReviewHelper.IsBeauty(Model.ProductInfo.P_CATE_CODE))
{
                            <col width="147" />
                            <col width="*" />
                            <col width="88" />
                            <col width="142" />
}
else
{
    <col width="147" />
    <col width="*" />
}
                        </colgroup>
                        <tbody>
                            <tr>
                                <th>상품명</th>
                                <td class="pro_info">
                                    <!--이미지사이즈 96x96-->
                                    <div class="photo"><img src="@Model.ProductInfo.MAIN_IMG" alt="" /></div>
                                    <div class="detail">
                                        <p class="tit">@Model.ProductInfo.P_NAME</p>
                                        <p class="stit">@Model.ProductInfo.P_SUB_TITLE</p>
                                        <!--<p class="price"><strong>4,000</strong>원</p>-->
                                    </div>
                                </td>

                                @if (ReviewHelper.IsBeauty(Model.ProductInfo.P_CATE_CODE))
                                {
                                    <th class="skintype"><span>@Html.ValidationMessageFor(model => model.SkinType)</span>피부타입</th>
                                    <td class="skintype">
                                        <select class="selectstyleb" title="" name="SkinType">
                                            <option selected="selected" value="">선택하세요</option>
                                            <option value="10">건성</option>
                                            <option value="20">중성</option>
                                            <option value="30">지복합성</option>
                                        </select>

                                    </td>
                                }
  
                            </tr>
                            <tr class="edit">
                                <th><span>@Html.ValidationMessageFor(model => model.Comment)</span>내용<br /><span>0 / 000 자</span></th>
                                <td colspan="3">                                   
                                    <textarea name="Comment" class="txtareatypea" style="width:100%"></textarea>                                    
                                </td>                                
                            </tr>
                            <tr class="attach">
                                <th>사진첨부</th>
                                <td colspan="3">
                                    <span class="imgbox">
                                        <img src="/aboutCom/images/review/write_imgnone.jpg" alt="" />
                                    </span>
                                    <input type="text" id="ImageFileName" name="ImageFileName" class="ipttypea ml10" style="width:360px" title="파일 경로입력" />
                                    <input type="file" id="UploadImage" name="UploadImage" style="visibility:hidden;width:0px;" onchange="changeUploadFile();" />
                                    <a href="#" class="btn_white_w96h38 ml5" onclick="findUploadFile(); return false;">찾아보기</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="note">
                        <h3>유의사항</h3>
                        <ul>
                            <li>- 리뷰 작성 시 일반리뷰는 500포인트, 포토리뷰는 1,000포인트를 적립해 드립니다.</li>
                            <li>- 텍스트 리뷰 작성 후 포토리뷰로 수정 불가능합니다.</li>
                            <li>- 근거 없는 악성 비방글,게시판의 성격과 맞지 않는 글은 삭제 돌 수 있으니 양해 부탁 드립니다.</li>
                        </ul>
                    </div>
                    <div class="btngroup mt30">
                        <a href="#" class="btn_brown_w96h38" onclick="document.frm.submit(); return false;" >등록</a><a href="#" onclick="PopupClose()" class="btn_white_w96h38 typeb">취소</a>
                    </div>
                </fieldset>
              }
        </div>
        <!--//pop_bottom-->
    </div>
</div>
<!-- //상품리뷰등록_뷰티 팝업 -->
}

