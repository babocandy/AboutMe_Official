
@{
    Layout = null;
}

<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko" xml:lang="ko">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=1323, user-scalable = yes" />
    <meta name="Keywords" content="ABOUT ME" />
    <meta name="Description" content="ABOUT ME" />
    <link href="/aboutCom/css/import.css" rel="stylesheet" />
    <script src="/aboutCom/js/lib/jquery-1.8.3.min.js" type="text/javascript"></script>
    <script src="/aboutCom/js/lib/jquery.easing-1.3.min.js" type="text/javascript"></script>
    <script src="/aboutCom/js/lib/dropdown.js" type="text/javascript"></script>
    <script src="/aboutCom/js/lib/jquery.countdown.js" type="text/javascript"></script>
    <script src="/aboutCom/js/lib/jquery.dotdotdot.js" type="text/javascript"></script>
    <script src="/aboutCom/js/script.js" type="text/javascript"></script>
    <title>ABOUT ME</title>
    
       <script>
        var glHTTPS_DOMAIN = "@ViewBag.HTTPS_DOMAIN";
        var glHTTP_DOMAIN = "@ViewBag.HTTP_DOMAIN";
        var glREGISTER_ING = false;  //저장처리중
        function fGoSaveStaffRequest()
        {
            var f = document.frmSTAFF_REQUEST;
            if (f.STAFF_COMPANY.selectedIndex ==0)
            {
                alert("소속 회사를 선택하세요.");
                return;
            }
            if (f.STAFF_ID.value.length <2) {
                alert("사번을 입력하세요.");
                return;
            }
            f.method = "post";
            f.targte = "";
            f.action = glHTTPS_DOMAIN + "/MyPage/StaffRequestProc";;
            f.submit();

            /*
            //Ajax의 경우 ---------------------


            var strTOKEN = f.__RequestVerificationToken.value;
            var strM_ID = f.M_ID.value;
            var strM_NAME = f.M_NAME.value;
            var strM_GBN = f.M_GBN.value;
            var strSTAFF_COMPANY = f.STAFF_COMPANY[f.STAFF_COMPANY.selectedIndex].value;
            var strSTAFF_ID = f.STAFF_ID.value;

            //var strURL = "/MyPage/AjaxStaffRequestProc";
            var strURL = glHTTPS_DOMAIN + "/MyPage/AjaxStaffRequestProc";

            glREGISTER_ING = true;  //저장 진행중 --------------------

            $.ajax({
                url: strURL,
                async: false,  //동기 통신
                type: 'POST',
                dataType: 'json',
                data: {
                    __RequestVerificationToken: strTOKEN
                    , M_ID: strM_ID
                    , M_NAME: strM_NAME
                    , M_GBN: strM_GBN
                    , STAFF_COMPANY: strSTAFF_COMPANY
                    , STAFF_ID: strSTAFF_ID


                },
                success: function (retDATA) {
                    if (retDATA.ERR_CODE == "0") {
                        glREGISTER_ING = false; //저장 진행중 종료 --------------------
                        alert("임직원 신청이 접수되었습니다.");
                        self.close();  //다음 스텝으로 이동 =팝업 종료
                    }
                    else {
                        glREGISTER_ING = false; //저장 진행중 종료 --------------------
                        alert("임직원 신청중 오류가 발생했습니다.\n\n 오류내용:" + retDATA.ERR_MSG);
                    }
                },
                error: function (e) {
                    glREGISTER_ING = false; //저장 진행중 종료 --------------------
                    alert("ajax 오류발생2");
                }
            }); //ajax

            */

        }
    </script>

</head>
<body class="popup">
    <!--임직원인증신청-->
    <div class="popupwrap confirm">
        <div class="pop">
            <!--pop_top-->
            <div class="pop_top">
                <div class="title_area">
                    <p class="title">임직원인증신청</p>
                </div>
                <a href="#none" class="pop_close" onclick="PopupClose()"><img src="/aboutCom/images/review/reviewpop_close.gif" alt="닫기" /></a>
            </div>
            <!--//pop_top-->
            <!--pop_bottom-->
            <div class="pop_bottom">
@using (Html.BeginForm("AjaxStaffRequestProc", "MyPage", FormMethod.Post, new { id = "frmSTAFF_REQUEST", name = "frmSTAFF_REQUEST" }))
{
    @Html.AntiForgeryToken()                                           //폼 데이터 위조 방지 토큰 생성



<input type="hidden" name="M_ID" value="@ViewBag.M_ID" />
<input type="hidden" name="M_NAME" value="@ViewBag.M_NAME" />
<input type="hidden" name="M_GBN" value="@ViewBag.M_GBN" />

                        <fieldset>
                        <legend>임직원인증신청 폼</legend>
                        <table summary="아이디,이름,회사명,사번">
                            <caption>임직원인증신청 입력 표</caption>
                            <colgroup>
                                <col width="86">
                                <col width="104">
                                <col width="86">
                                <col width="104">
                            </colgroup>
                            <tbody>
                                <tr>
                                    <th><span>아이디</span></th>
                                    <td>@ViewBag.M_ID</td>
                                    <th><span>이름</span></th>
                                    <td>@ViewBag.M_NAME</td>
                                </tr>
                                <tr>
                                    <th><span>회사명</span></th>
                                    <td colspan="3">
                                        <select class="selectstyleb" title="" name="STAFF_COMPANY">
                                            <option value="">선택해주세요.</option>
                                            <option value="삼양제넥스">삼양제넥스</option>
                                            <option value="삼양데이터시스템">삼양데이터시스템</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <th><span>사번</span></th>
                                    <td colspan="3"><input type="text" class="ipttypea" title="사번" name="STAFF_ID" value="" maxlength="25" /> </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="btngroup mt20">
                            <a href="javascript:fGoSaveStaffRequest();" class="btn_brown_w96h38">신청</a>
                            <a href="javascript:self.close();" class="btn_white_w96h38 typeb">취소</a>
                        </div>
                        <div class="cscenter mt40">
                            <img src="/aboutCom/images/etc/contact.jpg" alt="고객센터 문의 080.740.7983 평일 : 오전 10시 ~ 12시 오후  2시 ~ 5시 휴무 : 토,일 공휴일" />
                        </div>
                    </fieldset>
}
            </div>
            <!--//pop_bottom-->
        </div>
    </div>
    <!--//임직원인증신청-->
</body>
</html>
